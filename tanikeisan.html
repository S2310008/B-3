<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>単位計算アプリ</title>
    <style>
        body { font-family: sans-serif; margin: 20px; }
        div { margin-bottom: 10px; }
        label { display: inline-block; width: 150px; }
        input[type="number"] { width: 60px; }
        .result-item { font-weight: bold; }
    </style>
</head>
<body>
    <h1>単位計算</h1>

    <p>各科目の取得済み単位数を入力してください。</p>

    <div>
        <label for="kyoyoUnits">教養教育科目:</label>
        <input type="number" id="kyoyoUnits" value="0" min="0"> 単位
    </div>
    <div>
        <label for="kogakuKisoUnits">工学基礎科目:</label>
        <input type="number" id="kogakuKisoUnits" value="0" min="0"> 単位
    </div>
    <div>
        <label for="johoKisoUnits">情報基礎科目:</label>
        <input type="number" id="johoKisoUnits" value="0" min="0"> 単位
    </div>
    <div>
        <label for="johoOyoUnits">情報応用科目:</label>
        <input type="number" id="johoOyoUnits" value="0" min="0"> 単位
    </div>
    <div>
        <label for="major1Units">第1メジャー科目:</label>
        <input type="number" id="major1Units" value="0" min="0"> 単位
    </div>
    <div>
        <label for="major2Units">第2メジャー科目:</label>
        <input type="number" id="major2Units" value="0" min="0"> 単位
    </div>
    <div>
        <label for="otherMajorUnits">その他メジャー科目:</label>
        <input type="number" id="otherMajorUnits" value="0" min="0"> 単位
    </div>
    <div>
        <label for="sotsukenUnits">卒業研究:</label>
        <input type="number" id="sotsukenUnits" value="0" min="0"> 単位
    </div>
    <div>
        <label for="jiyuSentakuUnits">自由選択科目:</label>
        <input type="number" id="jiyuSentakuUnits" value="0" min="0"> 単位
    </div>

    <button onclick="updateCalculations()">計算する</button>

    <h2>計算結果</h2>
    <div>
        <span class="result-item">教養教育科目 残り:</span> <span id="resultKyoyo">0</span> 単位
    </div>
    <div>
        <span class="result-item">工学基礎科目 残り:</span> <span id="resultKogakuKiso">0</span> 単位
    </div>
    <div>
        <span class="result-item">情報基礎科目 残り:</span> <span id="resultJohoKiso">0</span> 単位
    </div>
    <div>
        <span class="result-item">情報応用科目 残り:</span> <span id="resultJohoOyo">0</span> 単位
    </div>
    <div>
        <span class="result-item">第1メジャー科目 残り:</span> <span id="resultMajor1">0</span> 単位
    </div>
    <div>
        <span class="result-item">第2メジャー科目 残り:</span> <span id="resultMajor2">0</span> 単位
    </div>
    <div>
        <span class="result-item">その他メジャー科目 残り:</span> <span id="resultOtherMajor">0</span> 単位
    </div>
    <div>
        <span class="result-item">卒業研究 残り:</span> <span id="resultSotsuken">0</span> 単位
    </div>
    <div>
        <span class="result-item">自由選択科目 残り:</span> <span id="resultJiyuSentaku">0</span> 単位
    </div>

    <h3>全体の単位状況</h3>
    <div>
        <span class="result-item">全体の取得済み単位数:</span> <span id="resultTotalAcquired">0</span> 単位
    </div>
    <div>
        <span class="result-item">全体の残りの単位数:</span> <span id="resultTotalRemaining">0</span> 単位
    </div>

    <script>
        // 目標単位数を定義するオブジェクト (上記と同じ)
        const targetUnits = {
            kyoyo: 21,         // 教養教育科目
            kogakuKiso: 16,    // 工学基礎科目
            johoKiso: 12,      // 情報基礎科目
            johoOyo: 4,        // 情報応用科目
            major1: 28,        // 第1メジャー科目
            major2: 14,        // 第2メジャー科目
            otherMajor: 10,    // その他メジャー科目
            sotsuken: 8,       // 卒業研究
            jiyuSentaku: 8     // 自由選択科目
        };

        function calculateRemainingUnits(currentAcquiredUnits) {
            const remaining = {};
            let totalAcquired = 0;
            let totalTarget = 0;

            for (const category in targetUnits) {
                if (targetUnits.hasOwnProperty(category)) {
                    const acquired = currentAcquiredUnits[category] || 0;
                    const remainingUnits = targetUnits[category] - acquired;
                    remaining[category] = Math.max(0, remainingUnits);
                    totalAcquired += acquired;
                    totalTarget += targetUnits[category];
                }
            }
            remaining.totalRemaining = Math.max(0, totalTarget - totalAcquired);
            remaining.totalAcquired = totalAcquired;
            return remaining;
        }

        function updateCalculations() {
            const acquiredUnits = {
                kyoyo: parseInt(document.getElementById('kyoyoUnits').value) || 0,
                kogakuKiso: parseInt(document.getElementById('kogakuKisoUnits').value) || 0,
                johoKiso: parseInt(document.getElementById('johoKisoUnits').value) || 0,
                johoOyo: parseInt(document.getElementById('johoOyoUnits').value) || 0,
                major1: parseInt(document.getElementById('major1Units').value) || 0,
                major2: parseInt(document.getElementById('major2Units').value) || 0,
                otherMajor: parseInt(document.getElementById('otherMajorUnits').value) || 0,
                sotsuken: parseInt(document.getElementById('sotsukenUnits').value) || 0,
                jiyuSentaku: parseInt(document.getElementById('jiyuSentakuUnits').value) || 0
            };

            const results = calculateRemainingUnits(acquiredUnits);

            document.getElementById('resultKyoyo').textContent = results.kyoyo;
            document.getElementById('resultKogakuKiso').textContent = results.kogakuKiso;
            document.getElementById('resultJohoKiso').textContent = results.johoKiso;
            document.getElementById('resultJohoOyo').textContent = results.johoOyo;
            document.getElementById('resultMajor1').textContent = results.major1;
            document.getElementById('resultMajor2').textContent = results.major2;
            document.getElementById('resultOtherMajor').textContent = results.otherMajor;
            document.getElementById('resultSotsuken').textContent = results.sotsuken;
            document.getElementById('resultJiyuSentaku').textContent = results.jiyuSentaku;

            document.getElementById('resultTotalAcquired').textContent = results.totalAcquired;
            document.getElementById('resultTotalRemaining').textContent = results.totalRemaining;
        }

        // ページロード時に一度計算を実行して初期表示を更新
        window.onload = updateCalculations;
    </script>
</body>
</html>